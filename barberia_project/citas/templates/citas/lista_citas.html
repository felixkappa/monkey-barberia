{% extends 'base.html' %}

{% block title %}Lista de Citas Agendadas{% endblock %}

{% block content %}
    <h1>üóìÔ∏è Citas Agendadas</h1>
    
    <p>Aqu√≠ puedes ver todas las citas registradas en el sistema.</p>
    
    <table class="table table-striped table-hover">
        <thead class="thead-dark">
            <tr>
                <th>Cliente</th>
                <th>Fecha y Hora</th>
                <th>Servicios</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody>
            {% for cita in citas %}
                <tr>
                    <td>{{ cita.nombre_cliente }}</td>
                    <td>{{ cita.fecha_hora_inicio|date:"d M Y, P" }}</td>
                    <td>
                        <ul>
                            {% for servicio in cita.servicios.all %}
                                <li>{{ servicio.nombre }}</li>
                            {% endfor %}
                        </ul>
                    </td>
                    <td><span class="badge bg-info">{{ cita.get_estado_display }}</span></td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="4" class="text-center">A√∫n no hay citas agendadas.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <style>
        .table { width: 100%; margin-bottom: 1rem; color: #212529; border-collapse: collapse; }
        .table th, .table td { padding: 0.75rem; vertical-align: top; border-top: 1px solid #dee2e6; }
        .table thead th { vertical-align: bottom; border-bottom: 2px solid #dee2e6; background-color: #343a40; color: white; }
        .table-striped tbody tr:nth-of-type(odd) { background-color: rgba(0, 0, 0, 0.05); }
        .badge { display: inline-block; padding: .35em .65em; font-size: .75em; font-weight: 700; line-height: 1; text-align: center; white-space: nowrap; vertical-align: baseline; border-radius: .25rem; }
        .bg-info { color: #fff; background-color: #17a2b8; }
        ul { padding-left: 20px; margin: 0; }
    </style>
{% endblock %}